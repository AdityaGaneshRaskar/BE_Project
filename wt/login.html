<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Vintage BookStore</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .login-container {
            padding: 2rem 5%;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .login-form {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .login-btn {
            width: 100%;
            padding: 1rem;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .login-btn:hover {
            background: #2980b9;
        }
        
        .form-footer {
            text-align: center;
            margin-top: 1.5rem;
        }
        
        .form-footer a {
            color: #3498db;
            text-decoration: none;
        }
        
        .form-footer a:hover {
            text-decoration: underline;
        }
        
        .error-message {
            color: #e74c3c;
            font-size: 0.95rem;
            margin-top: 0.3rem;
            text-align: left;
            display: none;
        }
        .error-message.active {
            display: block;
        }
        .show-password {
            position: absolute;
            right: 15px;
            top: 38px;
            background: none;
            border: none;
            cursor: pointer;
            color: #3498db;
            font-size: 1rem;
        }
        .login-btn[disabled] {
            background: #95a5a6;
            cursor: not-allowed;
        }
        .login-feedback {
            text-align: center;
            margin-top: 1rem;
            font-size: 1rem;
        }
        .login-feedback.success {
            color: #27ae60;
        }
        .login-feedback.error {
            color: #e74c3c;
        }
        .form-group.password-group {
            position: relative;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <h1>Vintage BookStore</h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="products.html">Books</a></li>
                <li><a href="cart.html">Cart <span id="cart-count">0</span></a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="login.html">Login</a></li>
            </ul>
            <div id="user-info" style="float:right; margin-right: 2rem; font-weight: 500; position:relative; cursor:pointer;"></div>
            <div id="user-dropdown" style="display:none; position:absolute; top:60px; right:2rem; background:white; box-shadow:0 2px 8px rgba(0,0,0,0.15); border-radius:8px; min-width:200px; z-index:1000; padding:1rem;">
                <div id="dropdownName" style="font-weight:600;"></div>
                <div id="dropdownEmail" style="font-size:0.95rem; color:#555;"></div>
                <button id="dropdownLogout" style="margin-top:1rem; width:100%; background:#e74c3c; color:white; border:none; border-radius:5px; padding:0.6rem 0; font-size:1rem; cursor:pointer;">Logout</button>
            </div>
        </nav>
    </header>

    <main>
        <div class="login-container">
            <div class="login-header">
                <h2>Welcome Back</h2>
                <p>Please login to your account</p>
                <div style="margin-top:1rem;">
                    <button id="userTab" style="margin-right:10px; padding:0.5rem 1.2rem; border-radius:5px; border:none; background:#3498db; color:white; cursor:pointer;">User Login</button>
                    <button id="adminTab" style="padding:0.5rem 1.2rem; border-radius:5px; border:none; background:#eee; color:#333; cursor:pointer;">Admin Login</button>
                </div>
            </div>
            
            <form class="login-form" id="loginForm" autocomplete="off">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                    <div class="error-message" id="emailError">Please enter a valid email address</div>
                </div>
                <div class="form-group password-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required>
                    <button type="button" class="show-password" id="togglePassword" tabindex="-1"><i class="fa fa-eye"></i></button>
                    <div class="error-message" id="passwordError">Password must be at least 6 characters</div>
                </div>
                <button type="submit" class="login-btn" id="loginBtn" disabled>Login</button>
                <div class="login-feedback" id="loginFeedback"></div>
                <div class="form-footer">
                    <p>Don't have an account? <a href="#" id="showSignup">Sign up</a></p>
                    <p><a href="#">Forgot password?</a></p>
                </div>
            </form>
            <!-- Inline Signup Form (hidden by default) -->
            <form class="login-form" id="signupForm" style="display:none; margin-top:2rem;" autocomplete="off">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" name="signupName" required>
                    <div class="error-message" id="signupNameError">Please enter your full name</div>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" name="signupEmail" required>
                    <div class="error-message" id="signupEmailError">Please enter a valid email address</div>
                </div>
                <div class="form-group password-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" name="signupPassword" required>
                    <button type="button" class="show-password" id="toggleSignupPassword" tabindex="-1"><i class="fa fa-eye"></i></button>
                    <div class="error-message" id="signupPasswordError">Password must be at least 6 characters</div>
                </div>
                <button type="submit" class="login-btn" id="signupBtn" disabled>Sign Up</button>
                <div class="login-feedback" id="signupFeedback"></div>
                <div class="form-footer">
                    <p>Already have an account? <a href="#" id="showLogin">Login</a></p>
                </div>
            </form>
            <!-- Admin Login Form (hidden by default) -->
            <form class="login-form" id="adminLoginForm" style="display:none; margin-top:2rem;" autocomplete="off">
                <div class="form-group">
                    <label for="adminEmail">Admin Email</label>
                    <input type="email" id="adminEmail" name="adminEmail" required>
                    <div class="error-message" id="adminEmailError">Please enter a valid admin email</div>
                </div>
                <div class="form-group password-group">
                    <label for="adminPassword">Password</label>
                    <input type="password" id="adminPassword" name="adminPassword" required>
                    <button type="button" class="show-password" id="toggleAdminPassword" tabindex="-1"><i class="fa fa-eye"></i></button>
                    <div class="error-message" id="adminPasswordError">Password must be at least 6 characters</div>
                </div>
                <button type="submit" class="login-btn" id="adminLoginBtn">Admin Login</button>
                <div class="login-feedback" id="adminLoginFeedback"></div>
            </form>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About Us</h3>
                <p>Your one-stop destination for all your reading needs.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="products.html">Books</a></li>
                    <li><a href="cart.html">Cart</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>Email: abhisheksapkal002@gmail.com</p>
                <p>Phone: +91 7665770015</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Vintage BookStore. All rights reserved.</p>
            <p>Developed by: Abhishek Sapkal & Aditya Raskar</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loginForm = document.getElementById('loginForm');
            const emailInput = document.getElementById('email');
            const passwordInput = document.getElementById('password');
            const loginBtn = document.getElementById('loginBtn');
            const emailError = document.getElementById('emailError');
            const passwordError = document.getElementById('passwordError');
            const loginFeedback = document.getElementById('loginFeedback');
            const togglePassword = document.getElementById('togglePassword');

            function validateEmail(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            }
            function validatePassword(password) {
                return password.length >= 6;
            }
            function updateButtonState() {
                if (validateEmail(emailInput.value) && validatePassword(passwordInput.value)) {
                    loginBtn.disabled = false;
                } else {
                    loginBtn.disabled = true;
                }
            }
            emailInput.addEventListener('input', function() {
                if (!validateEmail(emailInput.value)) {
                    emailError.classList.add('active');
                } else {
                    emailError.classList.remove('active');
                }
                updateButtonState();
            });
            passwordInput.addEventListener('input', function() {
                if (!validatePassword(passwordInput.value)) {
                    passwordError.classList.add('active');
                } else {
                    passwordError.classList.remove('active');
                }
                updateButtonState();
            });
            togglePassword.addEventListener('click', function() {
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    togglePassword.innerHTML = '<i class="fa fa-eye-slash"></i>';
                } else {
                    passwordInput.type = 'password';
                    togglePassword.innerHTML = '<i class="fa fa-eye"></i>';
                }
            });
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                loginBtn.disabled = true;
                loginFeedback.textContent = 'Logging in...';
                loginFeedback.className = 'login-feedback';
                setTimeout(function() {
                    // Get stored credentials from localStorage
                    const storedEmail = localStorage.getItem('userEmail');
                    const storedPassword = localStorage.getItem('userPassword');
                    if (
                        emailInput.value === storedEmail &&
                        passwordInput.value === storedPassword
                    ) {
                        loginFeedback.textContent = 'Login successful!';
                        loginFeedback.className = 'login-feedback success';
                        setTimeout(function() {
                            window.location.href = 'customer.html';
                        }, 1000);
                    } else {
                        loginFeedback.textContent = 'Invalid email or password.';
                        loginFeedback.className = 'login-feedback error';
                        loginBtn.disabled = false;
                    }
                }, 1200);
            });

            // Signup modal logic
            const showSignup = document.getElementById('showSignup');
            const showLogin = document.getElementById('showLogin');
            const signupForm = document.getElementById('signupForm');
            showSignup.addEventListener('click', function(e) {
                e.preventDefault();
                loginForm.style.display = 'none';
                signupForm.style.display = 'block';
            });
            showLogin.addEventListener('click', function(e) {
                e.preventDefault();
                signupForm.style.display = 'none';
                loginForm.style.display = 'block';
            });
            // Signup form validation and logic
            const signupName = document.getElementById('signupName');
            const signupEmail = document.getElementById('signupEmail');
            const signupPassword = document.getElementById('signupPassword');
            const signupBtn = document.getElementById('signupBtn');
            const signupNameError = document.getElementById('signupNameError');
            const signupEmailError = document.getElementById('signupEmailError');
            const signupPasswordError = document.getElementById('signupPasswordError');
            const signupFeedback = document.getElementById('signupFeedback');
            const toggleSignupPassword = document.getElementById('toggleSignupPassword');
            function validateSignupName(name) {
                return name.trim().length > 0;
            }
            function validateSignupEmail(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            }
            function validateSignupPassword(password) {
                return password.length >= 6;
            }
            function updateSignupButtonState() {
                if (validateSignupName(signupName.value) && validateSignupEmail(signupEmail.value) && validateSignupPassword(signupPassword.value)) {
                    signupBtn.disabled = false;
                } else {
                    signupBtn.disabled = true;
                }
            }
            signupName.addEventListener('input', function() {
                if (!validateSignupName(signupName.value)) {
                    signupNameError.classList.add('active');
                } else {
                    signupNameError.classList.remove('active');
                }
                updateSignupButtonState();
            });
            signupEmail.addEventListener('input', function() {
                if (!validateSignupEmail(signupEmail.value)) {
                    signupEmailError.classList.add('active');
                } else {
                    signupEmailError.classList.remove('active');
                }
                updateSignupButtonState();
            });
            signupPassword.addEventListener('input', function() {
                if (!validateSignupPassword(signupPassword.value)) {
                    signupPasswordError.classList.add('active');
                } else {
                    signupPasswordError.classList.remove('active');
                }
                updateSignupButtonState();
            });
            toggleSignupPassword.addEventListener('click', function() {
                if (signupPassword.type === 'password') {
                    signupPassword.type = 'text';
                    toggleSignupPassword.innerHTML = '<i class="fa fa-eye-slash"></i>';
                } else {
                    signupPassword.type = 'password';
                    toggleSignupPassword.innerHTML = '<i class="fa fa-eye"></i>';
                }
            });
            signupForm.addEventListener('submit', function(e) {
                e.preventDefault();
                signupBtn.disabled = true;
                signupFeedback.textContent = 'Signing up...';
                signupFeedback.className = 'login-feedback';
                setTimeout(function() {
                    localStorage.setItem('userName', signupName.value);
                    localStorage.setItem('userEmail', signupEmail.value);
                    localStorage.setItem('userPassword', signupPassword.value);
                    signupFeedback.textContent = 'Signup successful! You can now login.';
                    signupFeedback.className = 'login-feedback success';
                    setTimeout(function() {
                        signupForm.style.display = 'none';
                        loginForm.style.display = 'block';
                    }, 1500);
                }, 1200);
            });

            // User info in nav
            const userInfoDiv = document.getElementById('user-info');
            const userDropdown = document.getElementById('user-dropdown');
            const userName = localStorage.getItem('userName');
            const userEmail = localStorage.getItem('userEmail');
            if (userName || userEmail) {
                userInfoDiv.innerHTML = '<i class="fa fa-user" style="margin-right:6px;"></i>' + (userName ? userName : userEmail);
                // Fill dropdown info
                document.getElementById('dropdownName').textContent = userName ? userName : '';
                document.getElementById('dropdownEmail').textContent = userEmail ? userEmail : '';
                // Show/hide dropdown on click
                userInfoDiv.addEventListener('click', function(e) {
                    e.stopPropagation();
                    userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
                });
                // Hide dropdown when clicking outside
                document.addEventListener('click', function(e) {
                    if (userDropdown.style.display === 'block') {
                        userDropdown.style.display = 'none';
                    }
                });
                // Logout button logic
                document.getElementById('dropdownLogout').addEventListener('click', function() {
                    localStorage.removeItem('userName');
                    localStorage.removeItem('userEmail');
                    localStorage.removeItem('userPassword');
                    userInfoDiv.textContent = '';
                    userDropdown.style.display = 'none';
                    window.location.reload();
                });
            } else {
                userInfoDiv.textContent = '';
            }

            // Admin/User tab logic
            const userTab = document.getElementById('userTab');
            const adminTab = document.getElementById('adminTab');
            const adminLoginForm = document.getElementById('adminLoginForm');
            userTab.addEventListener('click', function() {
                userTab.style.background = '#3498db';
                userTab.style.color = 'white';
                adminTab.style.background = '#eee';
                adminTab.style.color = '#333';
                loginForm.style.display = '';
                adminLoginForm.style.display = 'none';
                signupForm.style.display = 'none';
            });
            adminTab.addEventListener('click', function() {
                adminTab.style.background = '#3498db';
                adminTab.style.color = 'white';
                userTab.style.background = '#eee';
                userTab.style.color = '#333';
                loginForm.style.display = 'none';
                adminLoginForm.style.display = '';
                signupForm.style.display = 'none';
            });
            // Show user login by default
            userTab.click();
            // Admin show/hide password
            document.getElementById('toggleAdminPassword').addEventListener('click', function() {
                const pwd = document.getElementById('adminPassword');
                pwd.type = pwd.type === 'password' ? 'text' : 'password';
                this.innerHTML = pwd.type === 'password' ? '<i class="fa fa-eye"></i>' : '<i class="fa fa-eye-slash"></i>';
            });
            // Admin login logic (demo: hardcoded email/password)
            document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('adminEmail').value.trim();
                const password = document.getElementById('adminPassword').value;
                const feedback = document.getElementById('adminLoginFeedback');
                // Demo admin credentials
                const adminEmail = 'admin@bookstore.com';
                const adminPassword = 'admin123';
                if (email === adminEmail && password === adminPassword) {
                    feedback.textContent = 'Admin login successful! Redirecting...';
                    feedback.className = 'login-feedback success';
                    setTimeout(() => {
                        window.location.href = 'admin.html';
                    }, 1200);
                } else {
                    feedback.textContent = 'Invalid admin credentials.';
                    feedback.className = 'login-feedback error';
                }
            });
        });
    </script>
</body>
</html> 